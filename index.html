<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Crik-Track</title>
  <link rel="stylesheet" href="static/css/styles.css">
</head>
<body>
  <div id="loader" class="loader">
    <div class="spinner"></div>
    <div class="loader-text">Crik-Track</div>
  </div>

  <main id="app" class="hidden">
    <header class="topbar">
      <h1>Crik-Track</h1>
      <div class="top-actions">
        <button id="openMatches" class="btn">Matches</button>
      </div>
    </header>

    <section id="setup" class="panel">
      <h2>Match Setup</h2>
      <form id="setupForm">
        <div class="field">
          <label>Team A name</label>
          <input type="text" id="teamA" required placeholder="Team A">
        </div>
        <div class="field">
          <label>Players (comma separated)</label>
          <textarea id="playersA" placeholder="Alice, Bob, ..." required></textarea>
        </div>
        <div class="field">
          <label>Team B name</label>
          <input type="text" id="teamB" required placeholder="Team B">
        </div>
        <div class="field">
          <label>Players (comma separated)</label>
          <textarea id="playersB" placeholder="Charlie, Dave, ..." required></textarea>
        </div>
        <button type="submit" class="btn primary">Next: Rules</button>
      </form>
    </section>

    <section id="rules" class="panel hidden">
      <h2>Match Rules</h2>
      <form id="rulesForm">
        <div class="row">
          <div class="field">
            <label>Toss winner</label>
            <select id="tossWinner">
              <option value="A">Team A</option>
              <option value="B">Team B</option>
            </select>
          </div>
          <div class="field">
            <label>Decision</label>
            <select id="tossDecision">
              <option value="bat">Bat</option>
              <option value="bowl">Bowl</option>
            </select>
          </div>
        </div>
        <div class="field">
          <label>Overs</label>
          <input type="number" id="overs" min="1" max="50" value="10">
        </div>
        <div class="row small">
          <label><input type="checkbox" id="countExtras" checked> Count wides/no-balls as runs</label>
          <label><input type="checkbox" id="freeHit" checked> Free-hit after no-ball</label>
        </div>
        <div class="actions">
          <button type="button" id="backToSetup" class="btn">Back</button>
          <button type="submit" class="btn primary">Start Match</button>
        </div>
      </form>
    </section>

    <section id="live" class="panel hidden">
      <div class="match-header">
        <div class="teams">
          <div id="teamALabel">Team A</div>
          <div id="score">0/0 (0.0)</div>
          <div id="teamBLabel">Team B</div>
        </div>
      </div>

      <div class="live-body">
        <div class="lineup">
          <div class="field small">
            <label>On Strike</label>
            <select id="onStrike"></select>
          </div>
          <div class="field small">
            <label>Non-striker</label>
            <select id="nonStrike"></select>
          </div>
          <div class="field small">
            <label>Bowler</label>
            <select id="bowler"></select>
          </div>
        </div>

        <div class="over-tracker" id="overTracker">
          <!-- Six ball slots -->
        </div>

        <div class="controls">
          <div class="runs">
            <button class="btn run" data-run="0">0</button>
            <button class="btn run" data-run="1">1</button>
            <button class="btn run" data-run="2">2</button>
            <button class="btn run" data-run="3">3</button>
            <button class="btn run" data-run="4">4</button>
            <button class="btn run" data-run="6">6</button>
          </div>
          <div class="extras">
            <button class="btn special" data-type="wicket">W</button>
            <button class="btn special" data-type="wide">WD</button>
            <button class="btn special" data-type="noball">NB</button>
          </div>
        </div>

        <div class="match-actions">
          <button id="endInnings" class="btn">End Innings</button>
          <button id="saveMatch" class="btn">Save Match</button>
        </div>
      </div>
    </section>

    <section id="result" class="panel hidden">
      <h2>Match Result</h2>
      <div id="resultSummary"></div>
      <div id="playerStats"></div>
      <div class="actions">
        <button id="restart" class="btn primary">Start New Match</button>
      </div>
    </section>

    <section id="matchesPanel" class="panel hidden">
      <h2>Saved Matches</h2>
      <div id="matchesList">Loading...</div>
      <div class="actions">
        <button id="closeMatches" class="btn">Close</button>
      </div>
    </section>
  </main>

  <script src="static/js/app.js"></script>
</body>
</html>
